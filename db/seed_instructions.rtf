{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 FiraCode-Regular;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww21800\viewh26720\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs36 \cf0 In the file #seeds.rb, you are to create the necessary code to populate the database with seed data useful for development, testing, and demonstration. \
\
All seed data will be related to a single Company instance (#company.rb) with the following attributes: `\{ name: \'91Acme Test\'92, subdomain: \'91acme-test\'92, website: \'91https://example.com' \}` This company instance will hereafter be referred to as \'93Acme\'94.\
\
Seed data is to be generated for the following models: #company.rb, #customer.rb, #success.rb, #contribution.rb, #user.rb, #story_category.rb, #product.rb, #story.rb, #result.rb, #invitation_template.rb, and #contributor_prompt.rb. Data will also need to be created for any `join` tables that exist for associating these models.\
\
All data should belong (directly or indirectly) to Acme. Associations defined in the model files should guide you in creating and/or destroying the data. You should make use of association methods as much as possible.\
\
Acme will have two associated `curators`. These users will already exist in the database and can be found via their `email` attribute: `rycwilson@gmail.com` and `acme-test@customerstories.net`. These users should not be modified in any way beyond being associated with Acme as `curators`.\
\
In the file #seed_data.rb, you will find the `SeedData` module containing constants and methods to assist you.\
\
The names of Acme\'92s customers can be found in `SeedData::CUSTOMERS`. You may ignore the `industry` key.\
\
Each customer should have 4 `successes` (#success.rb). Of the 4 successes, 3 should have an associated `story` (#story.rb) and 1 should not. You can use `SeedData.generate_success_and_story` to generate the `name` of a success and the `title` of its associated story (if the story exists). Be sure to use a single return value from this method to determine the name of a given success and the title of its associated story, as they are intended to relate to one another.\
\
A story\'92s `narrative` field consists of html text. Use the `SeedData.lorem_paragraph_html` method to generate and join 10-15 such paragraphs and assign this text to `narrative`. Each story should have 2-4 `results` that may be randomly sampled from `SeedData::RESULTS`. A story\'92s publish state is determined via the attributes `logo_published` and `published`. Of a given customer\'92s 3 associated stories, one should have both of these values set to `false`, one should have `logo_published` set to `true` and `published` set to false, and one should have both `logo_published` and `published` set to true.\
\
Each success should have 3 `contributions`. A contribution should always have a `contributor` (#user.rb) and of the 3 contributions associated with a given success, 1 should also have a `referrer` (#user.rb). Any contributors or referrers associated with a given success should be unique. In order to minimize the number of `User` instances that must be created, you may create a pool of 4 users for a given customer and re-use those users as contributors and referrers for that customer\'92s associated contributions. User name attributes can be generated from `Faker::Name.unique.first_name` and `Faker::Name.unique.last_name`. Users associated with a given customer can be given an email address with the format first_name@customer_name.com. Additional attributes required are `password` which can be set to the email address and `sign_up_code` which must be set to \'93csp_beta\'94\
\
Acme should have `story_categories` (#story_category.rb) as defined in `SeedData::CATEGORIES` and `products` (#product.rb) as defined in `SeedData::PRODUCTS`. Each success should be associated with one story category and one product. The story category may be chosen at random. `SeedData::PRODUCTS` contains a `category` key that should allow you to sample a correct product for a given story category (note that this category key is not part of product instance attributes).\
\
Acme should have three `invitation_templates` (#invitation_template.rb) as defined in `SeedData::CUSTOMER_INVITATION_TEMPLATE`, `SeedData::CUSTOMER_SUCCESS_INVITATION_TEMPLATE`, and `SeedData::SALES_INVITATION_TEMPLATE`. Acme will also have `contributor_prompts` (#contributor_prompt.rb) as defined in `SeedData::CONTRIBUTOR_PROMPTS`. All prompts should be associated with an invitation_template whose `name` attribute matches the `role` key from the seed data.\
\
The first step in seeding is to destroy all seed data that was previously created, including the Acme instance. This should be straightforward given that most data directly or indirectly belongs to Acme and `dependent: :destroy` is utilized throughout. To prevent orphaned User models, start by running `acme.contributors.delete_all` and `acme.referrers.delete_all`. The idea is that the seeds file can be run repeatedly with each run creating a fresh set of seed data without orphaning seed data from previous runs.\
\
\
}